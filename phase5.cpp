// This is a C++ program that provides the code for the famous maze game with 3 levels.
#include<iostream>
#include<windows.h>
#include<conio.h>     //to accept input from keyboard
using namespace std;

int sec;                    //definition of global variables used in the code
int maxtrial=0;
int startx1=5,starty1=24, maxX1=23,maxY1=25, winx1=18, winy1=5;
int startx2=0,starty2=7, maxX2=20,maxY2=25, winx2=14, winy2=24;
int startx3=1,starty3=0, maxX3=25,maxY3=25, winx3=23, winy3=24;

char maze1 [23][25]=
	{
 {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ',' ',' '},
 {' ',' ',' ',' ',' ',' ','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#',' ',' ','#'},
 {' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',' ',' ','#'},
 {' ',' ',' ',' ',' ','#',' ',' ','#',' ','#','#','#','#','#','#','#','#','#','#',' ','#',' ',' ','#'},
 {' ',' ',' ',' ',' ','#',' ',' ','#',' ','#',' ',' ',' ',' ',' ',' ',' ',' ','#',' ','#',' ',' ','#'},
 {' ',' ',' ',' ',' ','#',' ','#','#',' ','#',' ','#','#','#','#','#','#','#','#',' ','#',' ',' ','*'},
 {' ',' ',' ',' ',' ','#',' ','#',' ',' ','#',' ','#',' ',' ',' ',' ',' ',' ',' ',' ','#',' ','#','#'},
 {' ',' ',' ',' ',' ','#',' ','#',' ',' ','#',' ','#','#','#','#','#',' ',' ',' ',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ','#','#','#','#',' ','#','#',' ',' ','#',' ',' ',' ',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ','#','#',' ',' ','#',' ',' ',' ',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#','#','#','#','#','#','#','#','#',' ','#','#',' ',' ',' ',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#','#','#','#','#','#','#','#',' ','#','#','#','#','#','#',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ','#','#',' ',' ',' ',' ',' ','#',' ',' ',' ',' ','#',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ','#','#',' ','#','#','#','#','#','#',' ','#',' ','#',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ','#','#',' ','#','#','#','#','#','#',' ','#',' ','#',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ',' ',' ',' ','#','#','#','#','#','#',' ','#','#','#',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ',' ','#',' ','#',' ','#','#','#','#','#',' ',' ',' ',' ',' ',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ',' ',' ',' ','#',' ','#',' ',' ',' ',' ',' ','#','#','#','#','#','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#','#','#','#',' ','#','#','#','#','#',' ',' ',' ',' ',' ',' ',' ',' ','#',' '},
 {' ',' ',' ',' ',' ','#','#','#','#',' ','#','#','#','#','#','#','#','#','#','#','#','#','#','#',' '},
 {' ',' ',' ',' ',' ','#',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
 {' ',' ',' ',' ',' ','#','#','#','#','#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '}
	};

char maze2 [20][25]=
	{
 {' ',' ',' ',' ',' ','#','#','*','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'},
 {' ',' ',' ',' ',' ','#',' ',' ','#',' ',' ',' ','#',' ',' ',' ',' ','#',' ',' ',' ',' ',' ','#','#'},
 {' ',' ',' ',' ',' ','#',' ','#','#',' ','#',' ','#',' ','#','#',' ','#',' ','#','#','#',' ','#','#'},
 {' ',' ',' ',' ',' ','#',' ',' ',' ',' ','#',' ',' ',' ',' ','#',' ','#',' ','#',' ',' ',' ','#','#'},
 {' ',' ',' ',' ',' ','#','#','#','#','#','#','#','#','#',' ','#',' ','#',' ','#',' ','#','#','#','#'},
 {' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ','#',' ','#',' ',' ',' ','#',' ',' ',' ','#','#'},
 {' ',' ',' ',' ',' ','#',' ','#','#','#','#','#',' ','#','#','#','#','#','#','#',' ','#',' ','#','#'},
 {' ',' ',' ',' ',' ','#',' ','#',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ','#',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ','#','#','#',' ',' ',' ','#','#','#','#','#',' ','#','#','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ',' ',' ','#','#','#','#','#',' ','#',' ',' ',' ',' ',' ',' ',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ','#',' ',' ',' ',' ','#',' ',' ',' ',' ','#','#','#','#','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ','#','#','#','#',' ','#','#','#','#','#','#',' ',' ',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ',' ',' ','#',' ',' ','#',' ',' ',' ','#',' ',' ','#',' ','#',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ',' ',' ','#',' ','#','#',' ','#',' ','#',' ','#','#',' ','#','#','#','#'},
 {' ',' ',' ',' ',' ','#',' ',' ',' ','#',' ',' ',' ',' ','#',' ','#',' ',' ','#',' ',' ',' ',' ',' '},
 {' ',' ',' ',' ',' ','#',' ',' ','#','#','#','#','#','#','#',' ','#','#',' ','#','#','#','#','#','#'},
 {' ',' ',' ',' ',' ','#',' ','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',' ','#',' ',' ',' ','#',' '},
 {' ',' ',' ',' ',' ','#',' ','#',' ','#','#','#','#','#','#','#','#','#',' ','#','#','#','#','#','#'},
 {' ',' ',' ',' ',' ','#',' ','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
 {' ',' ',' ',' ',' ','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'}
};
char maze3[25][25]=

	
	{
	{'#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'},
	{'*',' ','#',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ','#',' ',' ',' ','#',' ',' ',' ','#'},
	{'#',' ','#','#','#','#','#',' ','#','#','#',' ','#',' ','#','#','#','#','#',' ','#',' ','#','#','#'},
	{'#',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ','#',' ','#',' ','#',' ','#'},
	{'#','#','#',' ','#',' ','#','#','#','#','#','#','#',' ','#','#','#',' ','#',' ','#',' ','#',' ','#'},	
	{'#',' ',' ',' ','#',' ','#',' ',' ',' ',' ',' ','#',' ',' ',' ','#',' ',' ',' ',' ',' ','#',' ','#'},
	{'#',' ','#','#','#',' ','#',' ','#','#','#',' ','#','#','#','#','#','#','#','#','#',' ','#',' ','#'},
	{'#',' ','#',' ','#',' ','#',' ','#',' ','#',' ',' ',' ',' ',' ','#',' ',' ',' ','#',' ',' ',' ','#'},
	{'#',' ','#','#','#',' ','#',' ','#',' ','#',' ','#','#','#',' ','#',' ','#',' ','#','#','#',' ','#'},
	{'#',' ',' ',' ','#',' ','#',' ','#',' ','#',' ',' ',' ','#',' ','#',' ','#',' ',' ',' ',' ',' ','#'},
	{'#','#','#',' ','#',' ','#',' ','#',' ','#','#','#','#','#',' ','#','#','#',' ','#','#','#','#','#'},
	{'#',' ','#',' ','#',' ','#',' ',' ',' ','#',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ','#'},
	{'#',' ','#',' ','#',' ','#',' ','#',' ','#',' ','#','#','#',' ','#','#','#',' ','#','#','#','#','#'},
	{'#',' ','#',' ',' ',' ','#',' ','#',' ','#',' ','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',' ','#'},
	{'#',' ','#','#','#','#','#',' ','#',' ','#',' ','#','#','#','#','#','#','#',' ','#','#','#',' ','#'},
	{'#',' ',' ',' ','#',' ',' ',' ','#',' ','#',' ','#',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ','#'},
	{'#',' ','#','#','#',' ','#','#','#',' ','#',' ','#',' ','#','#','#',' ','#',' ','#','#','#',' ','#'},
	{'#',' ',' ',' ','#',' ','#',' ',' ',' ','#',' ','#',' ','#',' ','#',' ','#',' ','#',' ','#',' ','#'},
	{'#','#','#',' ','#','#','#',' ','#','#','#',' ','#',' ','#',' ','#',' ','#','#','#',' ','#',' ','#'},
	{'#',' ','#',' ',' ','#','#',' ',' ',' ','#',' ','#',' ','#',' ','#',' ',' ',' ',' ',' ','#',' ','#'},
	{'#',' ','#','#','#',' ','#','#','#',' ','#',' ','#',' ','#',' ','#',' ','#','#','#',' ','#',' ','#'},
	{'#',' ','#',' ',' ',' ',' ',' ',' ',' ','#',' ',' ',' ','#',' ','#',' ','#',' ','#',' ','#',' ','#'},
	{'#',' ','#','#','#','#','#','#','#',' ','#','#','#',' ','#',' ','#','#','#',' ','#',' ','#','#','#'},
	{'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#',' ',' ',' ',' ',' ',' ',' ','#',' ',' ',' ',' '},
	{'#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#','#'}

	};

void printmaze(char [][25],int,int,int);                   //Prototypes of functions used in the program
void goLeft(char [][25],int &,int &,int ,int);
void goRight(char [][25],int &,int &,int,int );
void goUp(char [][25],int &,int &,int,int );
void goDown(char [][25],int &,int &,int,int);
void runmaze(char [][25],int,int,int,int,int,int ,int );



int main()        //main function
{ 
	int level;
	SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),5);
	cout<<" "<<"Welcome to the popular maze game\nGeneral instructions,use \n w:to go up\n a:to go left\n d:to go right,and\n s:to go down. "<<endl<<endl;
	do        //a loop to run the game till the user quits

	{
	cout<<" Please choose the level you want to play\n Press 1 for Easy\n Press 2 for Medium\n Press 3 for Hard\n Press 4 to quit the game\n";
	cin>> level;

	while (level<1||level>4)   //input validation
	 { 
	 cout<<"Please enter 1 , 2 ,or 3 to choose the level\n";
	 cin>>level; 
	 }
	switch (level)      // cases for the three different levels
	{
		case 1:{sec=70;
			runmaze(maze1,startx1,starty1,winx1,winy1,maxX1,maxY1,9); //function call
			   }
			break;  
		case 2:{sec=132;
			runmaze(maze2,startx2,starty2,winx2,winy2,maxX2,maxY2,9);  //function call
			   }
			break;  
		case 3:{sec=150;
			runmaze(maze3,startx3,starty3,winx3,winy3,maxX3,maxY3,9);   //function call
			   }
			break;
		case 4:	cout<<"Game ending...\n";
  
	}
	}
	while (level!=4);

	system("pause");
	return 0;

}

void printmaze(char maize[][25],int max1,int max2,int x)         //function definition
{
	SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),x);

    for(int i = 0; i <max1; i++)
	{
        for(int ii = 0; ii < max2;ii++)
		{
            cout << maize[i][ii];
        }
        cout << endl;
    }
}
void goLeft(char maize[][25],int &x,int &y,int max1,int max2)   //function definition
{  
	if ((maize[x][y-1]==' '||maize[x][y-1]=='-'||maize[x][y-1]=='|'||maize[x][y-1]=='*')&& (y-1>0||y-1==0))
	{ 
			if (maize[x][y-1]==' ')
			     maize[x][y-1]='-';
			else if(maize[x][y-1]=='-')
			     maize[x][y-1]='*';
			else if (maize[x][y-1]=='*'){
				maize[x][y-1]='-';}
			system ("CLS");
		    printmaze(maize,max1,max2,9);
			cout<<sec<<endl;
				sec--;
		    y=y-1; 
			

	}
	else
	{
		cout<<"invalid move!";
		maxtrial+=1;
	}
}
void goRight(char maize[][25],int &x,int &y,int max1,int max2)  //function definition
{  
	if ((maize[x][y+1]==' ' || maize[x][y+1]=='-'|| maize[x][y+1]=='|'||maize[x][y+1]=='*')&& (y+1<max2-1||y+1==max2-1))
    {  
	     if (maize[x][y+1]==' ')
			 maize[x][y+1]='-';
		 else if (maize[x][y+1]=='-')
			 maize[x][y+1]='*';
		 else if (maize[x][y+1]=='*')
			 maize[x][y+1]='-';
	 system("CLS");
         printmaze(maize,max1,max2,9);
		 cout<<sec<<endl;
				sec--;
		 y=y+1;
		 if (sec<0)
				cout<<"Time is up!Game over!";


    }
    else
	{
	cout<<"invalid move!";
	maxtrial+=1;
    }

}

void goUp(char maize[][25],int &x,int &y,int max1,int max2)    //function definition
{
	if ((maize[x-1][y]==' '||maize[x-1][y]=='|'||maize[x-1][y]=='-'||maize[x-1][y]=='*') && (x-1>0||x-1==0))
    {
		        if (maize[x-1][y]==' ')
				  maize[x-1][y]='|';
				else if (maize[x-1][y]=='|')
					maize[x-1][y]='*';
				else if (maize[x-1][y]=='*')
					maize[x-1][y]='|';
				system("CLS");
				printmaze(maize,max1,max2,9);
				cout<<sec<<endl;
				sec--;
				x=x-1;
				

	}
	else
	{
		cout<<"invalid move!";
		maxtrial+=1;
	}
}
void goDown(char maize[][25],int &x,int &y,int max1,int max2)   //function definition
{
	if ((maize[x+1][y]==' '||maize[x+1][y]=='|'||maize[x+1][y]=='-'||maize[x+1][y]=='*')&& (x+1==max1-1||x+1<max1-1))
    {  
		  if (maize[x+1][y]==' ')
			  maize[x+1][y]='|';
		  else if (maize[x+1][y]=='|')
			  maize[x+1][y]='*';
		  else if (maize[x+1][y]=='*')
			  maize[x+1][y]='|';
		  system("CLS");
          printmaze(maize,max1,max2,9); 
		  cout<<sec<<endl;
				sec--;
		  x=x+1;
		  

    }
	else
	{
		cout<<"invalid move!";
		maxtrial+=1;
	}
}
void runmaze(char maize[][25],int x,int y,int endx,int endy,int max1,int max2,int color)  //function definition

{
	printmaze(maize,max1,max2,color);
	while ((x!=endx || y!=endy)&& maxtrial<3&&(sec>0))
	{
			char move;
			move=_getch();
			if (move=='W'|| move=='w')
				goUp(maize,x,y,max1,max2);
			else if (move=='S'|| move=='s')
				goDown(maize,x,y,max1,max2);
			else if (move=='A'|| move=='a')
				goLeft(maize,x,y,max1,max2);
			else if (move=='D'|| move =='d')
				goRight(maize,x,y,max1,max2);
			else
				cout<<"invalid input"<<endl;
	}
	
	if (maxtrial!=3&&sec>0)
	{
	SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE),3);
	cout<<"congradulations,you found your way through!"<<endl;
	}

	else

	cout<<"Game over!!! loser!"<<endl;

}
